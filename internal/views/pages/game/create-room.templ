package game

import (
	"github.com/hekigan/couples/internal/viewmodels"
	"github.com/hekigan/couples/internal/views/layouts"
)

// CreateRoomPage renders the create room page with layout
templ CreateRoomPage(data *viewmodels.TemplateData) {
	@layouts.Base(data, CreateRoomContent(data))
}

// CreateRoomContent renders the create room form content
templ CreateRoomContent(data *viewmodels.TemplateData) {
	<div class="container">
		<div class="page-header">
			<h1>ğŸ® Create New Room</h1>
		</div>
		if data.Error != "" {
			<div class="alert alert-error" role="alert">
				âš ï¸ { data.Error }
			</div>
		}
		<form method="POST" action="/game/create-room">
			if data.CSRFToken != "" {
				<input type="hidden" name="csrf" value={ data.CSRFToken }/>
			}
			<div class="form-group">
				<label for="name">Room Name</label>
				<input
					type="text"
					id="name"
					name="name"
					placeholder="Enter a name for your room"
					required
					minlength="3"
					maxlength="16"
					title="Room name must be 3-16 characters (letters, numbers, underscore)"
					aria-describedby="room-name-help"
				/>
				<small id="room-name-help" style="color: #6b7280;">
					Give your room a memorable name (e.g., "Date Night", "Our Game")
				</small>
			</div>
			<div class="form-group">
				<label for="is_private">
					<input
						type="checkbox"
						id="is_private"
						name="is_private"
						role="switch"
						checked
					/>
					Private Room
				</label>
				<small style="color: #6b7280; display: block; margin-top: 0.25rem;">
					ğŸ”’ Private rooms require your approval for guests to join. Public rooms allow anyone with the Room ID to join immediately.
				</small>
			</div>
			<div class="button-group mt-lg">
				<a href="/game/rooms" role="button" class="secondary">Cancel</a>
				<button type="submit" class="success">Create Room</button>
			</div>
		</form>
	</div>
}
