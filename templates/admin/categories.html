{{define "content"}}
<div class="admin-container">
    <h1>Category Management</h1>

    <div class="admin-actions-header">
        <div></div>
        <button onclick="showModal('create-modal')" class="btn-add">Add Category</button>
    </div>

    <div class="admin-table">
        {{if .Data}}
            {{.Data}}
        {{else}}
            <p>No categories found.</p>
        {{end}}
    </div>
</div>

<!-- Create Category Modal - Using PicoCSS dialog element -->
<dialog id="create-modal">
    <article>
        <header>
            <button aria-label="Close" rel="prev" onclick="hideModal('create-modal')"></button>
            <p><strong>Create Category</strong></p>
        </header>
        <form hx-post="/admin/api/categories"
              hx-target="#categories-list"
              hx-swap="outerHTML"
              onsubmit="hideModal('create-modal')">
            <label>
                Key
                <input type="text" name="key" required />
            </label>
            <label>
                Label
                <input type="text" name="label" required />
            </label>
            <label>
                Icon
                <input type="text" name="icon" required placeholder="e.g., ðŸ’¬" />
            </label>
            <footer>
                <button type="button" class="secondary" onclick="hideModal('create-modal')">Cancel</button>
                <button type="submit">Create</button>
            </footer>
        </form>
    </article>
</dialog>

<!-- Edit Category Modal -->
<dialog id="edit-modal">
    <article>
        <header>
            <button aria-label="Close" rel="prev" onclick="hideModal('edit-modal')"></button>
            <p><strong>Edit Category</strong></p>
        </header>
        <div id="edit-modal-content">
            <!-- Form will be loaded here via HTMX -->
        </div>
    </article>
</dialog>
{{end}}
