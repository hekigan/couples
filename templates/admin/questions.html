{{define "content"}}
<div class="admin-container">
    <h1>Question Management</h1>

    <div class="admin-actions-header">
        <div class="admin-filters-bar">
            <a href="/admin/api/questions/export-csv" class="btn">Export CSV</a>
            <a href="/admin/api/questions/template-csv" class="btn">Download Template</a>
        </div>
        <button data-target="create-modal" onclick="toggleModal(event)" class="btn-add">Add Question</button>
    </div>

    <div class="admin-table">
        {{if .Data}}
            {{template "questions_list" .Data}}
        {{else}}
            <p>No questions found.</p>
        {{end}}
    </div>
</div>

<!-- Create Question Modal - Using PicoCSS dialog element -->
<dialog id="create-modal" class="modal-wide">
    <article>
        <header>
            <button aria-label="Close" rel="prev"
                data-target="create-modal"
                onclick="toggleModal(event)"></button>
            <h3>Create Question</h3>
        </header>
        <div id="create-modal-content" class="modal-content"
             hx-get="/admin/api/v1/questions/new"
             hx-trigger="load once">
            <!-- Form will be loaded here via HTMX -->
        </div>
        <footer>
            <button type="button" class="secondary"
                data-target="create-modal"
                onclick="toggleModal(event)">Cancel</button>
            <button type="button" class="success" onclick="submitModalForm(event)">Create</button>
        </footer>
    </article>
</dialog>

<!-- Edit Question Modal -->
<dialog id="edit-modal" class="modal-wide">
    <article>
        <header>
            <button aria-label="Close" rel="prev"
                data-target="edit-modal"
                onclick="toggleModal(event)"></button>
            <h3>Edit Question</h3>
        </header>
        <div id="edit-modal-content" class="modal-content">
            <!-- Form will be loaded here via HTMX -->
        </div>
        <footer>
            <button type="button" class="secondary"
                data-target="edit-modal"
                onclick="toggleModal(event)">Cancel</button>
            <button type="button" class="success" onclick="submitModalForm(event)">Save</button>
        </footer>
    </article>
</dialog>
{{end}}

