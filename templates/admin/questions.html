{{define "content"}}
<div class="admin-container">
    <h1>Question Management</h1>

    <div class="admin-actions-header">
        <div class="admin-filters-bar">
            <a href="/admin/api/questions/export-csv" class="btn">Export CSV</a>
            <a href="/admin/api/questions/template-csv" class="btn">Download Template</a>
        </div>
        <button onclick="showModal('create-modal')" class="btn-add">Add Question</button>
    </div>

    <div class="admin-table">
        <div id="questions-list"
             hx-get="/admin/api/questions/list"
             hx-trigger="load"
             hx-swap="outerHTML">
            <p>Loading questions...</p>
        </div>
    </div>
</div>

<!-- Create Question Modal - Using PicoCSS dialog element -->
<dialog id="create-modal" class="modal-wide">
    <article>
        <header>
            <button aria-label="Close" rel="prev" onclick="hideModal('create-modal')"></button>
            <p><strong>Create Question</strong></p>
        </header>
        <form hx-post="/admin/api/questions"
              hx-target="#questions-list"
              hx-swap="outerHTML"
              onsubmit="hideModal('create-modal')">
            <label>
                Question Text
                <textarea name="question_text" required rows="4"></textarea>
            </label>
            <label>
                Category
                <select name="category_id" required>
                    <option value="">Select Category...</option>
                </select>
            </label>
            <label>
                Language
                <select name="lang_code" required>
                    <option value="en">English</option>
                    <option value="fr">French</option>
                    <option value="ja">Japanese</option>
                </select>
            </label>
            <footer>
                <button type="button" class="secondary" onclick="hideModal('create-modal')">Cancel</button>
                <button type="submit">Create</button>
            </footer>
        </form>
    </article>
</dialog>

<!-- Edit Question Modal -->
<dialog id="edit-modal" class="modal-wide">
    <article>
        <header>
            <button aria-label="Close" rel="prev" onclick="hideModal('edit-modal')"></button>
            <p><strong>Edit Question</strong></p>
        </header>
        <div id="edit-modal-content">
            <!-- Form will be loaded here via HTMX -->
        </div>
    </article>
</dialog>
{{end}}
